<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Astro Catcher ‚Äî Elite Pro</title>
<style>
:root{
  --bg1:#0b0c2a; --bg2:#1a1a2e;
  --accent:#1abcff; --accent2:#0099cc;
  --card:rgba(255,255,255,0.04); --glass:rgba(255,255,255,0.06);
  --good:#34d399; --bad:#fb7185; --muted:rgba(255,255,255,0.7);
}

/* RESET */
*{box-sizing:border-box;}
html,body{margin:0;height:100%;font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;background:var(--bg1);color:#fff;overflow:hidden;}

/* LAYOUT */
.app{display:grid;grid-template-columns:360px 1fr;gap:24px;padding:20px;height:100vh;}
.panel{background:var(--card);border-radius:16px;padding:20px;box-shadow:0 12px 40px rgba(0,0,0,0.6);}
.boardWrap{position:relative;background:var(--card);border-radius:16px;padding:20px;box-shadow:0 12px 40px rgba(0,0,0,0.6);display:flex;flex-direction:column;align-items:center;justify-content:center;}
canvas{background:none;border:2px solid var(--accent);border-radius:10px;display:block;margin:auto;}

/* BOT√ïES */
.btn{display:inline-flex;align-items:center;justify-content:center;padding:12px 18px;background:linear-gradient(90deg,var(--accent),var(--accent2));color:#021025;font-weight:700;border:none;border-radius:12px;cursor:pointer;transition:transform .14s ease;}
.btn:hover{transform:translateY(-3px);}
.back-btn{position:fixed;top:12px;left:12px;padding:6px 12px;border:none;border-radius:8px;background:var(--accent);color:#021025;font-weight:700;cursor:pointer;}

/* HUD */
.hud{margin-top:18px;display:flex;flex-direction:column;gap:12px;}
.hud .row{display:flex;justify-content:space-between;align-items:center;gap:12px;}
.hud .box{background:var(--glass);padding:10px 12px;border-radius:10px;min-width:0;}
.lives{display:flex;gap:8px;align-items:center;}
.heart{width:22px;height:22px;border-radius:6px;background:linear-gradient(180deg,#ff6b81,#ff5176);box-shadow:0 6px 18px rgba(255,81,118,0.12);}
.heart.empty{background:linear-gradient(180deg,#2a303b,#16191f);opacity:0.35;}

/* OVERLAY */
.overlay{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg,rgba(0,0,0,0.7),rgba(0,0,0,0.7));border-radius:16px;opacity:0;pointer-events:none;transition:opacity .26s ease;}
.overlay.show{opacity:1;pointer-events:auto;}
.overlayCard{background:linear-gradient(180deg,#0b1226,#071029);border-radius:14px;padding:22px;text-align:center;box-shadow:0 30px 80px rgba(0,0,0,0.6);}
.overlayIcon{font-size:72px;margin-bottom:10px;display:block;}
.overlayTitle{font-size:22px;font-weight:800;margin-bottom:8px;}
.overlaySub{font-size:14px;color:var(--muted);margin-bottom:16px;}

/* CONTAGEM REGRESSIVA */
.countdown{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;font-size:96px;font-weight:800;color:var(--accent);pointer-events:none;}

/* DICAS */
.tips{margin-top:20px;background:var(--glass);border-radius:12px;padding:12px;font-size:14px;color:var(--muted);}
.tips ul{padding-left:20px;margin:6px 0;}
.tips li{margin-bottom:6px;}

/* RESPONSIVO */
@media(max-width:920px){.app{grid-template-columns:1fr;}}
</style>
</head>
<body>

<button class="back-btn" onclick="window.location.href='index.html'">‚¨Ö Voltar</button>

<div class="app">
  <div class="panel">
    <div style="font-size:28px;font-weight:800;margin-bottom:10px;">üöÄ Astro Catcher Pro</div>
    <p style="color:var(--muted)">Capture asteroides, moedas e power-ups! Boa sorte, astronauta üë®‚ÄçüöÄ</p>
    
    <div style="margin-top:12px;display:flex;gap:12px;flex-wrap:wrap;">
      <button class="btn" id="startBtn">‚ñ∂ Iniciar</button>
      <button class="btn" id="pauseBtn">‚è∏ Pausar</button>
    </div>

    <div class="hud">
      <div class="row">
        <div class="box">Score: <span id="score">0</span></div>
        <div class="box">Lives:
          <div class="lives">
            <span class="heart" id="heart1"></span>
            <span class="heart" id="heart2"></span>
            <span class="heart" id="heart3"></span>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="box">Escudo: <span id="shieldStatus">‚ùå</span></div>
        <div class="box">Power-up: <span id="powerStatus">-</span></div>
      </div>
    </div>

    <div class="tips">
      <strong>üí° Dicas:</strong>
      <ul>
        <li>‚¨ÖÔ∏è‚û°Ô∏è Use as setas para mover o astronauta</li>
        <li>üí∞ Colete moedas para ganhar pontos</li>
        <li>üîã Escudo ‚Üí protege de 1 colis√£o</li>
        <li>‚ö° Velocidade extra ‚Üí dobra a velocidade por 5s</li>
        <li>‚ù§Ô∏è Cora√ß√£o ‚Üí recupera +1 vida</li>
        <li>üí£ Bomba ‚Üí remove todos os asteroides da tela</li>
        <li>Evite asteroides cinza para n√£o perder vidas!</li>
      </ul>
    </div>
  </div>

  <div class="boardWrap">
    <canvas id="gameCanvas" width="500" height="700"></canvas>
    <div class="countdown" id="countdown"></div>
    <div class="overlay" id="overlay">
      <div class="overlayCard">
        <div class="overlayIcon" id="overlayIcon">üíÄ</div>
        <div class="overlayTitle" id="overlayTitle">Game Over</div>
        <div class="overlaySub" id="overlaySub">Tente novamente!</div>
        <button class="btn" id="restartBtn">Reiniciar</button>
      </div>
    </div>
  </div>
</div>

<script>
const canvas=document.getElementById('gameCanvas');
const ctx=canvas.getContext('2d');

const startBtn=document.getElementById('startBtn');
const pauseBtn=document.getElementById('pauseBtn');
const restartBtn=document.getElementById('restartBtn');
const overlay=document.getElementById('overlay');
const countdownEl=document.getElementById('countdown');
const scoreEl=document.getElementById('score');
const heart1=document.getElementById('heart1');
const heart2=document.getElementById('heart2');
const heart3=document.getElementById('heart3');
const shieldStatus=document.getElementById('shieldStatus');
const powerStatus=document.getElementById('powerStatus');

let score=0,lives=3,player,objects=[],gameLoopInterval,objectInterval;
let leftPressed=false,rightPressed=false,paused=false;
let playerSpeed=7,baseSpeed=2;
let shieldActive=false,speedBoostActive=false,speedBoostTimer=0;

player={x:canvas.width/2-25,y:canvas.height-60,width:50,height:50,emoji:'üë®‚ÄçüöÄ'};
let stars=[],planets=[];

// SONS
const coinSound = new Audio('sons/coin.mp3');
const shieldSound = new Audio('sons/shield.mp3');
const speedSound = new Audio('sons/speed.mp3');
const lifeSound = new Audio('sons/life.mp3');
const bombSound = new Audio('sons/bomb.mp3');
const hitSound = new Audio('sons/hit.mp3');
const moveSound = new Audio('sons/move.mp3'); moveSound.volume=0.2;
const bgMusic = new Audio('sons/bgMusic.mp3'); bgMusic.loop=true; bgMusic.volume=0.3;

// BACKGROUND
function initBackground(){
  stars=[]; planets=[];
  for(let i=0;i<80;i++){stars.push({x:Math.random()*canvas.width,y:Math.random()*canvas.height,r:Math.random()*1.5,alpha:Math.random(),delta:Math.random()*0.02});}
  planets=[{x:100,y:150,r:25,color:'#d1a15f',angle:0},{x:420,y:90,r:35,color:'#5da3d1',angle:0},{x:300,y:400,r:30,color:'#a07cc0',angle:0}];
}

function drawBackground(){
  const gradient=ctx.createLinearGradient(0,0,0,canvas.height);
  gradient.addColorStop(0,'#0b0c2a'); gradient.addColorStop(1,'#1a1a2e');
  ctx.fillStyle=gradient; ctx.fillRect(0,0,canvas.width,canvas.height);
  stars.forEach(s=>{
    s.alpha+=s.delta; if(s.alpha>1||s.alpha<0)s.delta*=-1;
    ctx.fillStyle=`rgba(255,255,255,${s.alpha})`; ctx.beginPath(); ctx.arc(s.x,s.y,s.r,0,Math.PI*2); ctx.fill();
  });
  planets.forEach(p=>{p.angle+=0.01; ctx.fillStyle=p.color; ctx.beginPath(); ctx.arc(p.x+Math.sin(p.angle)*5,p.y+Math.cos(p.angle)*5,p.r,0,Math.PI*2); ctx.fill();});
}

// OBJETOS
function createObject(){
  const rand=Math.random(); const size=40; const x=Math.random()*(canvas.width-size); const speed=baseSpeed + (score/50);
  const y=0; 
  if(rand<0.7) objects.push({x,y,size,speed,type:'asteroid',angle:Math.random()*Math.PI*2});
  else if(rand<0.85) objects.push({x,y,size,speed,type:'coin'});
  else{const types=['shield','speed','life','bomb']; const type=types[Math.floor(Math.random()*types.length)]; objects.push({x,y,size,speed,type});}
}

// LOOP DE JOGO
function gameLoop(){
  if(paused) return;
  drawBackground();

  if(leftPressed) player.x-=playerSpeed;
  if(rightPressed) player.x+=playerSpeed;
  if(player.x<0) player.x=0; if(player.x+player.width>canvas.width) player.x=canvas.width-player.width;

  ctx.font=player.width+'px Arial'; ctx.fillText(player.emoji,player.x,player.y+player.height);

  for(let i=objects.length-1;i>=0;i--){
    const obj=objects[i]; obj.y+=obj.speed;
    if(obj.type==='asteroid'){obj.angle+=0.05; ctx.fillStyle='#AAAAAA'; ctx.save(); ctx.translate(obj.x+obj.size/2,obj.y+obj.size/2); ctx.rotate(obj.angle); ctx.beginPath(); ctx.arc(0,0,obj.size/2,0,Math.PI*2); ctx.fill(); ctx.restore();}
    else if(obj.type==='coin'){ctx.font="30px Arial"; ctx.fillText("üí∞",obj.x,obj.y+obj.size);}
    else if(obj.type==='shield'){ctx.font="30px Arial"; ctx.fillText("üîã",obj.x,obj.y+obj.size);}
    else if(obj.type==='speed'){ctx.font="30px Arial"; ctx.fillText("‚ö°",obj.x,obj.y+obj.size);}
    else if(obj.type==='life'){ctx.font="30px Arial"; ctx.fillText("‚ù§Ô∏è",obj.x,obj.y+obj.size);}
    else if(obj.type==='bomb'){ctx.font="30px Arial"; ctx.fillText("üí£",obj.x,obj.y+obj.size);}

    if(obj.x<player.x+player.width && obj.x+obj.size>player.x && obj.y<player.y+player.height && obj.y+obj.size>player.y){
      if(obj.type==='asteroid'){if(shieldActive) shieldActive=false; else {lives--; hitSound.play(); if(lives<=0){showOverlay(); return;}}}
      else if(obj.type==='coin'){score+=5; coinSound.play();}
      else if(obj.type==='shield'){shieldActive=true; shieldSound.play();}
      else if(obj.type==='speed'){speedBoostActive=true; speedBoostTimer=300; speedSound.play();}
      else if(obj.type==='life'){lives++; lifeSound.play();}
      else if(obj.type==='bomb'){objects=objects.filter(o=>o.type!=='asteroid'); bombSound.play();}
      objects.splice(i,1); continue;
    }
    if(obj.y+obj.size>=canvas.height){objects.splice(i,1);}
  }

  scoreEl.textContent=score;
  heart1.className='heart'+(lives>=1?'':' empty');
  heart2.className='heart'+(lives>=2?'':' empty');
  heart3.className='heart'+(lives>=3?'':' empty');
  shieldStatus.textContent=shieldActive?'üîã':'‚ùå';
  powerStatus.textContent=speedBoostActive?'‚ö°':'-';
  if(speedBoostActive){speedBoostTimer--; if(speedBoostTimer<=0)speedBoostActive=false;}
}

// CONTROLES
document.addEventListener('keydown',e=>{if(e.key==='ArrowLeft') leftPressed=true; if(e.key==='ArrowRight') rightPressed=true;});
document.addEventListener('keyup',e=>{if(e.key==='ArrowLeft') leftPressed=false; if(e.key==='ArrowRight') rightPressed=false;});

// FUN√á√ïES PRINCIPAIS
function startGame(){
  startBtn.disabled=true; paused=false;
  initBackground(); objects=[]; score=0; lives=3; shieldActive=false; speedBoostActive=false; speedBoostTimer=0;
  player={x:canvas.width/2-25,y:canvas.height-60,width:50,height:50,emoji:'üë®‚ÄçüöÄ'};
  overlay.classList.remove('show'); countdownEl.style.display='flex';
  let count=3; countdownEl.textContent=count;
  const countdownInterval=setInterval(()=>{
    count--; if(count>0) countdownEl.textContent=count;
    else{clearInterval(countdownInterval); countdownEl.style.display='none'; gameLoopInterval=setInterval(gameLoop,1000/60); objectInterval=setInterval(createObject,1000); bgMusic.currentTime=0; bgMusic.play();}
  },1000);
}

function togglePause(){paused=!paused; pauseBtn.textContent=paused?'‚ñ∂ Continuar':'‚è∏ Pausar';}
function showOverlay(){overlay.classList.add('show'); clearInterval(gameLoopInterval); clearInterval(objectInterval); startBtn.disabled=false; bgMusic.pause();}

startBtn.addEventListener('click',startGame);
pauseBtn.addEventListener('click',togglePause);
restartBtn.addEventListener('click',startGame);
</script>
</body>
</html>
