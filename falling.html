<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8"> <!-- Define codifica√ß√£o UTF-8 para caracteres especiais -->
<meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Responsivo para mobile -->
<title>Astronauta no Espa√ßo</title>

<style>
  /* ============================= */
  /* Estilo geral da p√°gina */
  body { 
    margin:0;              /* Remove margens padr√£o do navegador */
    overflow:hidden;       /* Evita barras de rolagem */
    font-family:Arial,sans-serif; /* Fonte padr√£o */
    background:black;      /* Fundo preto */
  }

  /* ============================= */
  /* Tela inicial */
  #startScreen {
    display:flex;               /* Flexbox para centralizar conte√∫do */
    flex-direction:column;      /* Organiza itens verticalmente */
    justify-content:center;     /* Centraliza vertical */
    align-items:center;         /* Centraliza horizontal */
    height:100vh;               /* Ocupa toda altura da tela */
    background:radial-gradient(circle at center, #0b0c2a, #000000); /* Gradiente no fundo */
    color:white;                /* Cor do texto */
    text-align:center;          /* Centraliza texto */
  }
  #startScreen h1 { font-size:60px; margin-bottom:20px; } /* T√≠tulo grande */
  #startScreen p { font-size:20px; margin:10px 0; }       /* Texto de instru√ß√£o */

  /* ============================= */
  /* Bot√£o de iniciar */
  #startButton {
    padding:15px 40px;           /* Espa√ßamento interno do bot√£o */
    font-size:24px;              /* Tamanho da fonte */
    margin-top:30px;             /* Espa√ßo acima do bot√£o */
    cursor:pointer;              /* Cursor de m√£o ao passar */
    background:#1abc9c;          /* Cor de fundo */
    border:none;                 /* Sem borda */
    border-radius:10px;          /* Bordas arredondadas */
    color:white;                 /* Cor do texto */
    transition:0.3s;             /* Anima√ß√£o suave ao hover */
  }
  #startButton:hover { 
    background:#16a085;           /* Muda cor ao passar mouse */
    transform:scale(1.05);        /* Aumenta bot√£o levemente */
  }

  /* ============================= */
  /* Canvas do jogo */
  canvas { 
    display:none;                /* Esconde antes de iniciar */
    margin:auto; 
    background:black; 
  }

  /* ============================= */
  /* HUD (pontua√ß√£o e vidas) */
  #hud {
    position:absolute;          /* Fixa no topo */
    top:10px; left:10px;
    color:white; 
    font-size:20px; 
    font-weight:bold;
  }

  /* ============================= */
  /* Tela de Game Over */
  #gameOverOverlay {
    position:absolute; top:0; left:0;
    width:100%; height:100%;      /* Ocupa toda tela */
    background:rgba(0,0,0,0.85);  /* Fundo semi-transparente */
    color:white;
    display:none;                  /* Esconde at√© o game over */
    justify-content:center;
    align-items:center;
    flex-direction:column;        /* Itens empilhados */
  }
  #gameOverOverlay h1 { font-size:60px; margin-bottom:20px; } /* T√≠tulo grande */
  #restartButton {
    padding:12px 30px; font-size:22px; margin-top:30px;
    cursor:pointer; background:#e74c3c; border:none; border-radius:10px; color:white;
  }
  #restartButton:hover { background:#c0392b; } /* Cor ao passar mouse */
</style>
</head>
<body>

<!-- Tela inicial -->
<div id="startScreen">
  <h1>üöÄ Astronauta no Espa√ßo üåå</h1> <!-- T√≠tulo -->
  <p>‚û°Ô∏è Use as setas do teclado para mover</p> <!-- Instru√ß√£o -->
  <p>‚ù§Ô∏è Voc√™ tem 3 vidas</p>                 <!-- Explica vidas -->
  <p>‚≠ê Pegue os itens para ganhar pontos</p> <!-- Objetivo -->
  <button id="startButton">Start</button>     <!-- Bot√£o de iniciar -->
</div>

<!-- √Årea do jogo -->
<canvas id="gameCanvas" width="500" height="700"></canvas> <!-- Canvas onde o jogo ser√° desenhado -->
<div id="hud"></div> <!-- HUD mostra score e vidas -->

<!-- Tela de Game Over -->
<div id="gameOverOverlay">
  <h1>üíÄ Game Over üíÄ</h1>
  <p>Sua pontua√ß√£o: <span id="finalScore">0</span></p>
  <button id="restartButton">Reiniciar</button>
</div>

<script>
/* ============================= */
/* Vari√°veis principais */
const startScreen=document.getElementById('startScreen'); // Tela inicial
const startButton=document.getElementById('startButton'); // Bot√£o iniciar
const canvas=document.getElementById('gameCanvas');       // Canvas do jogo
const ctx=canvas.getContext('2d');                         // Contexto 2D para desenhar
const hud=document.getElementById('hud');                 // Painel de pontua√ß√£o e vidas
const gameOverOverlay=document.getElementById('gameOverOverlay'); // Tela de Game Over
const finalScore=document.getElementById('finalScore');   // Pontua√ß√£o final
const restartButton=document.getElementById('restartButton'); // Bot√£o reiniciar

let score=0, lives=3;               // Pontua√ß√£o e vidas iniciais
let player;                         // Astronauta
let objects=[];                     // Itens/asteroides caindo
let gameInterval, objectInterval;   // Intervalos do jogo
let leftPressed=false, rightPressed=false; // Controle do teclado
const playerSpeed=5;                // Velocidade do astronauta

// Som ao pegar objeto
const pickupSound = new Audio("https://www.myinstants.com/media/sounds/coin.mp3");

/* ============================= */
/* Controles do teclado */
function keyDownHandler(e){
  if(e.key==="ArrowLeft") leftPressed=true;  // Setas esquerda pressionada
  if(e.key==="ArrowRight") rightPressed=true; // Setas direita pressionada
}
function keyUpHandler(e){
  if(e.key==="ArrowLeft") leftPressed=false;  // Setas esquerda solta
  if(e.key==="ArrowRight") rightPressed=false; // Setas direita solta
}

/* ============================= */
/* Fundo espacial */
function drawSpaceBackground(){
  const gradient=ctx.createLinearGradient(0,0,0,canvas.height); // Gradiente vertical
  gradient.addColorStop(0,'#000010'); // Topo escuro
  gradient.addColorStop(1,'#0b0c2a'); // Fundo mais azul escuro
  ctx.fillStyle=gradient;
  ctx.fillRect(0,0,canvas.width,canvas.height); // Preenche canvas

  // Desenha estrelas aleat√≥rias
  for(let i=0;i<40;i++){
    ctx.fillStyle="white"; 
    ctx.beginPath();
    ctx.arc(Math.random()*canvas.width, Math.random()*canvas.height, Math.random()*2,0,Math.PI*2);
    ctx.fill();
  }

  // Planeta no fundo
  ctx.fillStyle="#34495e";
  ctx.beginPath();
  ctx.arc(100,200,80,0,Math.PI*2);
  ctx.fill();
}

/* ============================= */
/* Iniciar jogo */
function startGame(){
  startScreen.style.display='none';  // Esconde tela inicial
  canvas.style.display='block';      // Mostra canvas
  hud.style.display='block';          // Mostra HUD
  gameOverOverlay.style.display='none'; // Esconde Game Over
  score=0; lives=3; objects=[];       // Reseta vari√°veis
  player={x:canvas.width/2, y:canvas.height-80, size:50}; // Posiciona astronauta
  objectInterval=setInterval(createObject,1500); // Cria objetos a cada 1,5s
  gameInterval=setInterval(gameLoop,1000/60);   // Loop do jogo 60FPS
  document.addEventListener('keydown', keyDownHandler); // Adiciona eventos de teclado
  document.addEventListener('keyup', keyUpHandler);
}

/* ============================= */
/* Criar objetos */
function createObject(){
  const size=30;                       // Tamanho do objeto
  const x=Math.random()*(canvas.width-size); // Posi√ß√£o horizontal aleat√≥ria
  const speed=1.5+Math.random()*2;     // Velocidade descendente
  objects.push({x, y:0, size, speed}); // Adiciona ao array
}

/* ============================= */
/* Loop do jogo */
function gameLoop(){
  drawSpaceBackground(); // Desenha fundo

  // Desenha astronauta
  ctx.fillStyle="white";
  ctx.beginPath();
  ctx.arc(player.x, player.y, player.size/2,0,Math.PI*2); // Capacete
  ctx.fill();
  ctx.fillStyle="gray";
  ctx.fillRect(player.x-15, player.y+25, 30,20); // Corpo
  ctx.fillStyle="white";
  ctx.fillRect(player.x-25,player.y+20,10,20); // Bra√ßo esquerdo
  ctx.fillRect(player.x+15,player.y+20,10,20); // Bra√ßo direito

  // Movimento jogador
  if(leftPressed) player.x-=playerSpeed;
  if(rightPressed) player.x+=playerSpeed;
  if(player.x<25) player.x=25; // Limite esquerdo
  if(player.x>canvas.width-25) player.x=canvas.width-25; // Limite direito

  // Objetos caindo
  for(let i=objects.length-1;i>=0;i--){
    const obj=objects[i];
    obj.y+=obj.speed; // Move para baixo
    ctx.fillStyle="orange";
    ctx.beginPath();
    ctx.arc(obj.x,obj.y,obj.size/2,0,Math.PI*2);
    ctx.fill();

    // Colis√£o com astronauta
    const dx=obj.x-player.x, dy=obj.y-player.y;
    const dist=Math.sqrt(dx*dx+dy*dy);
    if(dist<obj.size/2+player.size/2){
      score++;                  // Aumenta pontua√ß√£o
      pickupSound.play().catch(()=>{}); // Toca som
      objects.splice(i,1);      // Remove objeto
      continue;                 // Pula para pr√≥ximo objeto
    }

    // Perde vida se objeto passar da tela
    if(obj.y>canvas.height){
      lives--;
      objects.splice(i,1);
      if(lives<=0){ showGameOver(); return; }
    }
  }

  // Atualiza HUD
  hud.innerHTML=`Score: ${score} | Lives: ${lives}`;
}

/* ============================= */
/* Game Over */
function showGameOver(){
  clearInterval(gameInterval);   // Para loop do jogo
  clearInterval(objectInterval); // Para cria√ß√£o de objetos
  finalScore.textContent=score;  // Mostra pontua√ß√£o final
  gameOverOverlay.style.display='flex'; // Mostra tela de Game Over
}

/* ============================= */
/* Bot√µes */
restartButton.addEventListener('click', startGame); // Reinicia jogo
startButton.addEventListener('click', startGame);   // Inicia jogo
</script>
</body>
</html>
