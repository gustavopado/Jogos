<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Astronauta no Espa√ßo</title>
<style>
  /* Estilo geral da p√°gina */
  body { margin:0; overflow:hidden; font-family:Arial,sans-serif; background:black; }

  /* Tela inicial */
  #startScreen {
    display:flex; flex-direction:column; justify-content:center; align-items:center;
    height:100vh; background:radial-gradient(circle at center, #0b0c2a, #000000);
    color:white; text-align:center;
  }
  #startScreen h1 { font-size:60px; margin-bottom:20px; }
  #startScreen p { font-size:20px; margin:10px 0; }

  /* Bot√£o de iniciar */
  #startButton {
    padding:15px 40px; font-size:24px; margin-top:30px;
    cursor:pointer; background:#1abc9c; border:none; border-radius:10px;
    color:white; transition:0.3s;
  }
  #startButton:hover { background:#16a085; transform:scale(1.05); }

  /* Canvas do jogo */
  canvas { display:none; margin:auto; background:black; }

  /* HUD (pontua√ß√£o e vidas) */
  #hud {
    position:absolute; top:10px; left:10px; color:white;
    font-size:20px; font-weight:bold;
  }

  /* Tela de Game Over */
  #gameOverOverlay {
    position:absolute; top:0; left:0; width:100%; height:100%;
    background:rgba(0,0,0,0.85); color:white;
    display:none; justify-content:center; align-items:center; flex-direction:column;
  }
  #gameOverOverlay h1 { font-size:60px; margin-bottom:20px; }
  #restartButton {
    padding:12px 30px; font-size:22px; margin-top:30px;
    cursor:pointer; background:#e74c3c; border:none; border-radius:10px; color:white;
  }
  #restartButton:hover { background:#c0392b; }
</style>
</head>
<body>

<!-- Tela inicial -->
<div id="startScreen">
  <h1>üöÄ Astronauta no Espa√ßo üåå</h1>
  <p>‚û°Ô∏è Use as setas do teclado para mover</p>
  <p>‚ù§Ô∏è Voc√™ tem 3 vidas</p>
  <p>‚≠ê Pegue os itens para ganhar pontos</p>
  <button id="startButton">Start</button>
</div>

<!-- √Årea do jogo -->
<canvas id="gameCanvas" width="500" height="700"></canvas>
<div id="hud"></div>

<!-- Tela de Game Over -->
<div id="gameOverOverlay">
  <h1>üíÄ Game Over üíÄ</h1>
  <p>Sua pontua√ß√£o: <span id="finalScore">0</span></p>
  <button id="restartButton">Reiniciar</button>
</div>

<script>
/* ======== VARI√ÅVEIS PRINCIPAIS ======== */
const startScreen=document.getElementById('startScreen'); // Tela inicial
const startButton=document.getElementById('startButton'); // Bot√£o iniciar
const canvas=document.getElementById('gameCanvas'); // √Årea do jogo
const ctx=canvas.getContext('2d'); // Contexto para desenhar
const hud=document.getElementById('hud'); // Placar e vidas
const gameOverOverlay=document.getElementById('gameOverOverlay'); // Tela de fim
const finalScore=document.getElementById('finalScore'); // Pontua√ß√£o final
const restartButton=document.getElementById('restartButton'); // Bot√£o reiniciar

let score=0,lives=3,player,objects=[],gameInterval,objectInterval;
let leftPressed=false,rightPressed=false;
const playerSpeed=5; // Velocidade do astronauta (MENOR = mais lento)

// üîä Som quando pega objeto
const pickupSound = new Audio("https://www.myinstants.com/media/sounds/coin.mp3");

/* ======== CONTROLES ======== */
function keyDownHandler(e){
  if(e.key==="ArrowLeft") leftPressed=true;
  if(e.key==="ArrowRight") rightPressed=true;
}
function keyUpHandler(e){
  if(e.key==="ArrowLeft") leftPressed=false;
  if(e.key==="ArrowRight") rightPressed=false;
}

/* ======== FUNDO ESPACIAL ======== */
function drawSpaceBackground(){
  // C√©u escuro com gradiente
  const gradient=ctx.createLinearGradient(0,0,0,canvas.height);
  gradient.addColorStop(0,'#000010');
  gradient.addColorStop(1,'#0b0c2a');
  ctx.fillStyle=gradient; ctx.fillRect(0,0,canvas.width,canvas.height);

  // Estrelas (pontinhos brancos)
  for(let i=0;i<40;i++){ // reduzi a quantidade para n√£o poluir
    ctx.fillStyle="white";
    ctx.beginPath();
    ctx.arc(Math.random()*canvas.width,Math.random()*canvas.height,Math.random()*2,0,Math.PI*2);
    ctx.fill();
  }

  // Planeta no fundo
  ctx.fillStyle="#34495e";
  ctx.beginPath();
  ctx.arc(100,200,80,0,Math.PI*2);
  ctx.fill();
}

/* ======== INICIAR JOGO ======== */
function startGame(){
  startScreen.style.display='none'; // Esconde tela inicial
  canvas.style.display='block';     // Mostra o jogo
  hud.style.display='block';        // Mostra HUD
  gameOverOverlay.style.display='none'; // Esconde Game Over
  score=0; lives=3; objects=[];     // Reseta valores
  // Astronauta
  player={x:canvas.width/2, y:canvas.height-80, size:50};
  // Intervalo para criar objetos a cada 1,5 segundos (MAIS LENTO)
  objectInterval=setInterval(createObject,1500);
  // Intervalo para rodar o jogo 60 vezes por segundo
  gameInterval=setInterval(gameLoop,1000/60);
  document.addEventListener('keydown', keyDownHandler);
  document.addEventListener('keyup', keyUpHandler);
}

/* ======== CRIAR OBJETOS ======== */
function createObject(){
  const size=30;
  const x=Math.random()*(canvas.width-size);
  const speed=1.5+Math.random()*2; // objetos descem MAIS DEVAGAR
  objects.push({x,y:0,size,speed});
}

/* ======== LOOP DO JOGO ======== */
function gameLoop(){
  drawSpaceBackground(); // fundo

  // Astronauta (desenho simples)
  ctx.fillStyle="white";
  ctx.beginPath();
  ctx.arc(player.x,player.y,player.size/2,0,Math.PI*2); // capacete
  ctx.fill();
  ctx.fillStyle="gray";
  ctx.fillRect(player.x-15,player.y+25,30,20); // corpo
  ctx.fillStyle="white";
  ctx.fillRect(player.x-25,player.y+20,10,20); // bra√ßo esquerdo
  ctx.fillRect(player.x+15,player.y+20,10,20); // bra√ßo direito

  // Movimento pelo teclado
  if(leftPressed) player.x-=playerSpeed;
  if(rightPressed) player.x+=playerSpeed;
  if(player.x<25) player.x=25;
  if(player.x>canvas.width-25) player.x=canvas.width-25;

  // Objetos caindo
  for(let i=objects.length-1;i>=0;i--){
    const obj=objects[i];
    obj.y+=obj.speed;
    ctx.fillStyle="orange";
    ctx.beginPath();
    ctx.arc(obj.x,obj.y,obj.size/2,0,Math.PI*2);
    ctx.fill();

    // Colis√£o (dist√¢ncia entre centro do astronauta e do objeto)
    const dx=obj.x-player.x, dy=obj.y-player.y;
    const dist=Math.sqrt(dx*dx+dy*dy);
    if(dist<obj.size/2+player.size/2){
      score++; // aumenta pontos
      pickupSound.play().catch(()=>{}); // üîä toca som
      objects.splice(i,1); // remove objeto
      continue;
    }

    // Se passar da tela sem pegar ‚Üí perde vida
    if(obj.y>canvas.height){
      lives--;
      objects.splice(i,1);
      if(lives<=0){ showGameOver(); return; }
    }
  }

  // Atualiza HUD
  hud.innerHTML=`Score: ${score} | Lives: ${lives}`;
}

/* ======== GAME OVER ======== */
function showGameOver(){
  clearInterval(gameInterval);
  clearInterval(objectInterval);
  finalScore.textContent=score;
  gameOverOverlay.style.display='flex';
}

/* ======== BOT√ïES ======== */
restartButton.addEventListener('click', startGame);
startButton.addEventListener('click', startGame);
</script>
</body>
</html>
